#ifndef CURSED_MACROS_H_
#define CURSED_MACROS_H_

#define _NUM_ARGS2(X,X64,X63,X62,X61,X60,X59,X58,X57,X56,X55,X54,X53,X52,X51,X50,X49,X48,X47,X46,X45,X44,X43,X42,X41,X40,X39,X38,X37,X36,X35,X34,X33,X32,X31,X30,X29,X28,X27,X26,X25,X24,X23,X22,X21,X20,X19,X18,X17,X16,X15,X14,X13,X12,X11,X10,X9,X8,X7,X6,X5,X4,X3,X2,X1,N,...) N
#define NUM_ARGS(...) _NUM_ARGS2(0, __VA_ARGS__ ,64,63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0)

#define _VFUNC_(name, n) _##name##_##n
#define _VFUNC(name, n) _VFUNC_(name, n)
#define VFUNC(func, ...) _VFUNC(func, NUM_ARGS(__VA_ARGS__)) (__VA_ARGS__)

#define CONCAT(...) VFUNC(CONCAT, __VA_ARGS__)

#define _CONCAT_1(x) x;
#define _CONCAT_2(x, ...) x; _CONCAT_1(__VA_ARGS__)
#define _CONCAT_3(x, ...) x; _CONCAT_2(__VA_ARGS__)
#define _CONCAT_4(x, ...) x; _CONCAT_3(__VA_ARGS__)
#define _CONCAT_5(x, ...) x; _CONCAT_4(__VA_ARGS__)
#define _CONCAT_6(x, ...) x; _CONCAT_5(__VA_ARGS__)
#define _CONCAT_7(x, ...) x; _CONCAT_6(__VA_ARGS__)
#define _CONCAT_8(x, ...) x; _CONCAT_7(__VA_ARGS__)
#define _CONCAT_9(x, ...) x; _CONCAT_8(__VA_ARGS__)
#define _CONCAT_10(x, ...) x; _CONCAT_9(__VA_ARGS__)
#define _CONCAT_11(x, ...) x; _CONCAT_10(__VA_ARGS__)
#define _CONCAT_12(x, ...) x; _CONCAT_11(__VA_ARGS__)
#define _CONCAT_13(x, ...) x; _CONCAT_12(__VA_ARGS__)
#define _CONCAT_14(x, ...) x; _CONCAT_13(__VA_ARGS__)
#define _CONCAT_15(x, ...) x; _CONCAT_14(__VA_ARGS__)
#define _CONCAT_16(x, ...) x; _CONCAT_15(__VA_ARGS__)
#define _CONCAT_17(x, ...) x; _CONCAT_16(__VA_ARGS__)
#define _CONCAT_18(x, ...) x; _CONCAT_17(__VA_ARGS__)
#define _CONCAT_19(x, ...) x; _CONCAT_18(__VA_ARGS__)
#define _CONCAT_20(x, ...) x; _CONCAT_19(__VA_ARGS__)
#define _CONCAT_21(x, ...) x; _CONCAT_20(__VA_ARGS__)
#define _CONCAT_22(x, ...) x; _CONCAT_21(__VA_ARGS__)
#define _CONCAT_23(x, ...) x; _CONCAT_22(__VA_ARGS__)
#define _CONCAT_24(x, ...) x; _CONCAT_23(__VA_ARGS__)
#define _CONCAT_25(x, ...) x; _CONCAT_24(__VA_ARGS__)
#define _CONCAT_26(x, ...) x; _CONCAT_25(__VA_ARGS__)
#define _CONCAT_27(x, ...) x; _CONCAT_26(__VA_ARGS__)
#define _CONCAT_28(x, ...) x; _CONCAT_27(__VA_ARGS__)
#define _CONCAT_29(x, ...) x; _CONCAT_28(__VA_ARGS__)
#define _CONCAT_30(x, ...) x; _CONCAT_29(__VA_ARGS__)
#define _CONCAT_31(x, ...) x; _CONCAT_30(__VA_ARGS__)
#define _CONCAT_32(x, ...) x; _CONCAT_31(__VA_ARGS__)
#define _CONCAT_33(x, ...) x; _CONCAT_32(__VA_ARGS__)
#define _CONCAT_34(x, ...) x; _CONCAT_33(__VA_ARGS__)
#define _CONCAT_35(x, ...) x; _CONCAT_34(__VA_ARGS__)
#define _CONCAT_36(x, ...) x; _CONCAT_35(__VA_ARGS__)
#define _CONCAT_37(x, ...) x; _CONCAT_36(__VA_ARGS__)
#define _CONCAT_38(x, ...) x; _CONCAT_37(__VA_ARGS__)
#define _CONCAT_39(x, ...) x; _CONCAT_38(__VA_ARGS__)
#define _CONCAT_40(x, ...) x; _CONCAT_39(__VA_ARGS__)
#define _CONCAT_41(x, ...) x; _CONCAT_40(__VA_ARGS__)
#define _CONCAT_42(x, ...) x; _CONCAT_41(__VA_ARGS__)
#define _CONCAT_43(x, ...) x; _CONCAT_42(__VA_ARGS__)
#define _CONCAT_44(x, ...) x; _CONCAT_43(__VA_ARGS__)
#define _CONCAT_45(x, ...) x; _CONCAT_44(__VA_ARGS__)
#define _CONCAT_46(x, ...) x; _CONCAT_45(__VA_ARGS__)
#define _CONCAT_47(x, ...) x; _CONCAT_46(__VA_ARGS__)
#define _CONCAT_48(x, ...) x; _CONCAT_47(__VA_ARGS__)
#define _CONCAT_49(x, ...) x; _CONCAT_48(__VA_ARGS__)
#define _CONCAT_50(x, ...) x; _CONCAT_49(__VA_ARGS__)
#define _CONCAT_51(x, ...) x; _CONCAT_50(__VA_ARGS__)
#define _CONCAT_52(x, ...) x; _CONCAT_51(__VA_ARGS__)
#define _CONCAT_53(x, ...) x; _CONCAT_52(__VA_ARGS__)
#define _CONCAT_54(x, ...) x; _CONCAT_53(__VA_ARGS__)
#define _CONCAT_55(x, ...) x; _CONCAT_54(__VA_ARGS__)
#define _CONCAT_56(x, ...) x; _CONCAT_55(__VA_ARGS__)
#define _CONCAT_57(x, ...) x; _CONCAT_56(__VA_ARGS__)
#define _CONCAT_58(x, ...) x; _CONCAT_57(__VA_ARGS__)
#define _CONCAT_59(x, ...) x; _CONCAT_58(__VA_ARGS__)
#define _CONCAT_60(x, ...) x; _CONCAT_59(__VA_ARGS__)
#define _CONCAT_61(x, ...) x; _CONCAT_60(__VA_ARGS__)
#define _CONCAT_62(x, ...) x; _CONCAT_61(__VA_ARGS__)
#define _CONCAT_63(x, ...) x; _CONCAT_62(__VA_ARGS__)
#define _CONCAT_64(x, ...) x; _CONCAT_63(__VA_ARGS__)

#endif // CURSED_MACROS_H_
